(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f340fe5"],{"038d":function(e,t,r){"use strict";r.r(t);r("a4d3"),r("e01a"),r("b0c0");var a=r("7a23"),s={key:0,class:"col-full"},c={key:0,class:"col-full push-top"},n={class:"forum-header"},i={class:"forum-details"},u={class:"text-lead"},d=Object(a["l"])(" Start a thread "),o={class:"col-full push-top"};function l(e,t,r,l,h,b){var j=Object(a["L"])("router-link"),O=Object(a["L"])("ThreadList"),p=Object(a["L"])("v-pagination");return e.asyncDataStatus_ready?(Object(a["C"])(),Object(a["h"])("div",s,[b.forum?(Object(a["C"])(),Object(a["h"])("div",c,[Object(a["i"])("div",n,[Object(a["i"])("div",i,[Object(a["i"])("h1",null,Object(a["Q"])(b.forum.name),1),Object(a["i"])("p",u,Object(a["Q"])(b.forum.description),1)]),Object(a["m"])(j,{to:{name:"ThreadCreate",params:{forumId:b.forum.id}},class:"btn-green btn-small"},{default:Object(a["Z"])((function(){return[d]})),_:1},8,["to"])])])):Object(a["g"])("",!0),Object(a["i"])("div",o,[Object(a["m"])(O,{threads:b.threads},null,8,["threads"]),Object(a["m"])(p,{modelValue:h.page,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.page=e}),pages:b.totalPages,"active-color":"#57AD8D"},null,8,["modelValue","pages"])])])):Object(a["g"])("",!0)}r("4de4"),r("d81d"),r("96cf");var h=r("1da1"),b=r("5530"),j={class:"col-full"},O={class:"thread-list"},p=Object(a["i"])("h2",{class:"list-title"},"Threads",-1),m={key:0},f={class:"text-faded text-xsmall"},g=Object(a["l"])(" By "),v={href:"#"},y=Object(a["l"])(", "),x=Object(a["l"])(". "),w={class:"activity"},I={class:"replies-count"},k={class:"text-xsmall"},C={href:"#"},A={class:"text-xsmall text-faded"},B={key:0,style:{padding:"10px","text-align":"center"}},D=Object(a["i"])("em",null,"No Threads Available",-1),L=[D];function P(e,t,r,s,c,n){var i=Object(a["L"])("router-link"),u=Object(a["L"])("AppDate"),d=Object(a["L"])("AppAvatarImg");return Object(a["C"])(),Object(a["h"])("div",j,[Object(a["i"])("div",O,[p,r.threads.length?(Object(a["C"])(),Object(a["h"])("div",m,[(Object(a["C"])(!0),Object(a["h"])(a["a"],null,Object(a["J"])(r.threads,(function(e){return Object(a["C"])(),Object(a["h"])("div",{key:e.id,class:"thread"},[Object(a["i"])("div",null,[Object(a["i"])("p",null,[Object(a["m"])(i,{to:{name:"ThreadShow",params:{id:e.id}}},{default:Object(a["Z"])((function(){return[Object(a["l"])(Object(a["Q"])(e.title),1)]})),_:2},1032,["to"])]),Object(a["i"])("p",f,[g,Object(a["i"])("a",v,Object(a["Q"])(n.userById(e.userId).name),1),y,Object(a["m"])(u,{timestamp:e.publishedAt},null,8,["timestamp"]),x])]),Object(a["i"])("div",w,[Object(a["i"])("p",I,Object(a["Q"])(e.repliesCount)+" replies",1),Object(a["m"])(d,{class:"avatar-medium",src:n.userById(e.userId).avatar},null,8,["src"]),Object(a["i"])("div",null,[Object(a["i"])("p",k,[Object(a["i"])("a",C,Object(a["Q"])(n.userById(e.userId).name),1)]),Object(a["i"])("p",A,[Object(a["m"])(u,{timestamp:e.publishedAt},null,8,["timestamp"])])])])])})),128))])):Object(a["g"])("",!0)]),r.threads.length?Object(a["g"])("",!0):(Object(a["C"])(),Object(a["h"])("div",B,L))])}var S=r("ce96"),T={props:{threads:{type:Array,required:!0}},computed:{posts:function(){return this.$store.state.posts.items},users:function(){return this.$store.state.users.items}},methods:{postById:function(e){return Object(S["c"])(this.posts,e)},userById:function(e){return Object(S["c"])(this.users,e)||{}}}};T.render=P;var $=T,_=r("5502"),Q=r("cae2"),q={components:{ThreadList:$},mixins:[Q["a"]],props:{id:{required:!0,type:String}},data:function(){return{page:parseInt(this.$route.query.page)||1,perPage:10}},computed:{forum:function(){return Object(S["c"])(this.$store.state.forums.items,this.id)},threads:function(){var e=this;return this.forum?this.$store.state.threads.items.filter((function(t){return t.forumId===e.forum.id})).map((function(t){return e.$store.getters["threads/thread"](t.id)})):[]},threadCount:function(){var e;return(null===(e=this.forum.threads)||void 0===e?void 0:e.length)||0},totalPages:function(){return this.threadCount?Math.ceil(this.threadCount/this.perPage):0}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(_["b"])("forums",["fetchForum"])),Object(_["b"])("threads",["fetchThreadsByPage"])),Object(_["b"])("users",["fetchUsers"])),created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchForum({id:e.id});case 2:return r=t.sent,t.next=5,e.fetchThreadsByPage({ids:r.threads,page:e.page,perPage:e.perPage});case 5:return a=t.sent,t.next=8,e.fetchUsers({ids:a.map((function(e){return e.userId}))});case 8:e.asyncDataStatus_fetched();case 9:case"end":return t.stop()}}),t)})))()},watch:{page:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$router.push({query:{page:t.page}});case 1:case"end":return e.stop()}}),e)})))()}}};q.render=l;t["default"]=q},cae2:function(e,t,r){"use strict";t["a"]={data:function(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatus_fetched:function(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}}}}]);
//# sourceMappingURL=chunk-5f340fe5.6ac70a61.js.map