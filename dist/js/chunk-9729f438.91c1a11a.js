(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9729f438"],{"6a1b":function(t,e,n){"use strict";n.r(e);n("b0c0");var r=n("7a23"),a={key:0,class:"col-full push-top"},i=Object(r["l"])(" Create new thread in ");function c(t,e,n,c,u,o){var s=Object(r["L"])("ThreadEditor");return t.asyncDataStatus_ready?(Object(r["C"])(),Object(r["h"])("div",a,[Object(r["i"])("h1",null,[i,Object(r["i"])("i",null,Object(r["Q"])(o.forum.name),1)]),Object(r["m"])(s,{onSave:o.save,onCancel:o.cancel,onDirty:e[0]||(e[0]=function(t){return u.formIsDirty=!0}),onClean:e[1]||(e[1]=function(t){return u.formIsDirty=!1})},null,8,["onSave","onCancel"])])):Object(r["g"])("",!0)}n("96cf");var u=n("1da1"),o=n("5530"),s=n("fc02"),l=n("ce96"),m=n("5502"),f=n("cae2"),d={components:{ThreadEditor:s["a"]},mixins:[f["a"]],props:{forumId:{type:String,required:!0}},data:function(){return{formIsDirty:!1}},computed:{forum:function(){return Object(l["c"])(this.$store.state.forums.items,this.forumId)}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(m["b"])("forums",["fetchForum"])),Object(m["b"])("threads",["createThread"])),{},{save:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.title,a=t.text,n.next=3,e.createThread({forumId:e.forum.id,title:r,text:a});case 3:i=n.sent,e.$router.push({name:"ThreadShow",params:{id:i.id}});case 5:case"end":return n.stop()}}),n)})))()},cancel:function(){this.$router.push({name:"Forum",params:{id:this.forum.id}})}}),created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchForum({id:t.forumId});case 2:t.asyncDataStatus_fetched();case 3:case"end":return e.stop()}}),e)})))()},beforeRouteLeave:function(){if(this.formIsDirty){var t=window.confirm("Are you sure you want to leave? Unsaved changes will be lost!");if(!t)return!1}}};d.render=c;e["default"]=d},cae2:function(t,e,n){"use strict";e["a"]={data:function(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatus_fetched:function(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}}},fc02:function(t,e,n){"use strict";var r=n("7a23"),a={class:"btn-group"},i={class:"btn btn-blue",type:"submit",name:"Publish"};function c(t,e,n,c,u,o){var s=Object(r["L"])("AppFormField"),l=Object(r["L"])("VeeForm");return Object(r["C"])(),Object(r["f"])(l,{onSubmit:o.save},{default:Object(r["Z"])((function(){return[Object(r["m"])(s,{label:"Title",name:"title",modelValue:u.form.title,"onUpdate:modelValue":e[0]||(e[0]=function(t){return u.form.title=t}),rules:"required"},null,8,["modelValue"]),Object(r["m"])(s,{as:"textarea",label:"Content",name:"text",modelValue:u.form.text,"onUpdate:modelValue":e[1]||(e[1]=function(t){return u.form.text=t}),rules:"required",rows:"8",cols:"140"},null,8,["modelValue"]),Object(r["i"])("div",a,[Object(r["i"])("button",{onClick:e[2]||(e[2]=Object(r["cb"])((function(e){return t.$emit("cancel")}),["prevent"])),class:"btn btn-ghost"}," Cancel "),Object(r["i"])("button",i,Object(r["Q"])(o.existing?"Update":"Publish"),1)])]})),_:1},8,["onSubmit"])}var u=n("5530"),o={props:{title:{type:String,default:""},text:{type:String,default:""}},data:function(){return{form:{title:this.title,text:this.text}}},computed:{existing:function(){return!!this.title}},methods:{save:function(){this.$emit("clean"),this.$emit("save",Object(u["a"])({},this.form))}},watch:{form:{handler:function(){this.form.title!==this.title||this.form.text!==this.text?this.$emit("dirty"):this.$emit("clean")},deep:!0}}};o.render=c;e["a"]=o}}]);
//# sourceMappingURL=chunk-9729f438.91c1a11a.js.map